(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{385:function(s,n,r){"use strict";r.r(n);var a=r(42),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,r=s._self._c||n;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"centos7环境安装redis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#centos7环境安装redis"}},[s._v("#")]),s._v(" Centos7环境安装redis")]),s._v(" "),r("hr"),s._v(" "),r("h3",{attrs:{id:"上传安装包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#上传安装包"}},[s._v("#")]),s._v(" 上传安装包")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("[root@host102 mydir]# rz\n\n[root@host102 mydir]# ll\ntotal 1520\n-rw-r--r--. 1 root root    5824 Oct 12 05:04 mysql-community-release-el6-5.noarch.rpm\n-rw-r--r--. 1 root root 1547695 Oct 12 04:54 redis-3.2.9.tar.gz\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br")])]),r("h3",{attrs:{id:"安装gcc环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装gcc环境"}},[s._v("#")]),s._v(" 安装GCC环境")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# 一路yes即可\n[root@host102 mydir]# yum install gcc-c++\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br")])]),r("h3",{attrs:{id:"解压缩redis源码包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解压缩redis源码包"}},[s._v("#")]),s._v(" 解压缩Redis源码包")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("[root@host102 mydir]# tar -zxf redis-3.2.9.tar.gz \n\n# 解压缩后多出来一个redis的目录\n[root@host102 mydir]# ll\ntotal 1524\n-rw-r--r--. 1 root root    5824 Oct 12 05:04 mysql-community-release-el6-5.noarch.rpm\ndrwxrwxr-x. 6 root root    4096 May 17  2017 redis-3.2.9\n-rw-r--r--. 1 root root 1547695 Oct 12 04:54 redis-3.2.9.tar.gz\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br")])]),r("h3",{attrs:{id:"编译redis源码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编译redis源码"}},[s._v("#")]),s._v(" 编译Redis源码")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# 进入redis源码目录\n[root@host102 mydir]# cd redis-3.2.9\n\n# 编译源码\n[root@host102 redis-3.2.9]# make\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br")])]),r("h3",{attrs:{id:"安装redis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装redis"}},[s._v("#")]),s._v(" 安装redis")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# 安装到指定目录\n[root@host102 redis-3.2.9]# make install PREFIX=/usr/local/redis\n\n# 查看安装\n[root@host102 redis-3.2.9]# cd /usr/local/redis/\n[root@host102 redis]# ll\ntotal 0\ndrwxr-xr-x. 2 root root 134 Oct 29 22:40 bin\n[root@host102 redis]# cd bin\n[root@host102 bin]# ll\ntotal 15060\n-rwxr-xr-x. 1 root root 2432872 Oct 29 22:40 redis-benchmark\n-rwxr-xr-x. 1 root root   24992 Oct 29 22:40 redis-check-aof\n-rwxr-xr-x. 1 root root 5181776 Oct 29 22:40 redis-check-rdb\n-rwxr-xr-x. 1 root root 2585856 Oct 29 22:40 redis-cli\nlrwxrwxrwx. 1 root root      12 Oct 29 22:40 redis-sentinel -> redis-server\n-rwxr-xr-x. 1 root root 5181776 Oct 29 22:40 redis-server\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br")])]),r("h3",{attrs:{id:"前端启动"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前端启动"}},[s._v("#")]),s._v(" 前端启动")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# 前端启动\n# ctrl+c后，服务端关闭\n[root@host102 bin]# ./redis-server \n5099:C 29 Oct 22:48:49.844 # Warning: no config file specified, using the default config. In order to specify a config file use ./redis-server /path/to/redis.conf\n5099:M 29 Oct 22:48:49.845 * Increased maximum number of open files to 10032 (it was originally set to 1024).\n                _._                                                  \n           _.-``__ ''-._                                             \n      _.-``    `.  `_.  ''-._           Redis 3.2.9 (00000000/0) 64 bit\n  .-`` .-```.  ```\\/    _.,_ ''-._                                   \n (    '      ,       .-`  | `,    )     Running in standalone mode\n |`-._`-...-` __...-.``-._|'` _.-'|     Port: 6379\n |    `-._   `._    /     _.-'    |     PID: 5099\n  `-._    `-._  `-./  _.-'    _.-'                                   \n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \n |    `-._`-._        _.-'_.-'    |           http://redis.io        \n  `-._    `-._`-.__.-'_.-'    _.-'                                   \n |`-._`-._    `-.__.-'    _.-'_.-'|                                  \n |    `-._`-._        _.-'_.-'    |                                  \n  `-._    `-._`-.__.-'_.-'    _.-'                                   \n      `-._    `-.__.-'    _.-'                                       \n          `-._        _.-'                                           \n              `-.__.-'       \n               \n# 按下ctrl+c后\n^C5099:signal-handler (1572360794) Received SIGINT scheduling shutdown...\n5099:M 29 Oct 22:53:14.909 # User requested shutdown...\n5099:M 29 Oct 22:53:14.910 * Saving the final RDB snapshot before exiting.\n5099:M 29 Oct 22:53:14.913 * DB saved on disk\n5099:M 29 Oct 22:53:14.913 # Redis is now ready to exit, bye bye...\n[root@host102 bin]#                                       \n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br"),r("span",{staticClass:"line-number"},[s._v("28")]),r("br"),r("span",{staticClass:"line-number"},[s._v("29")]),r("br"),r("span",{staticClass:"line-number"},[s._v("30")]),r("br")])]),r("h3",{attrs:{id:"后端启动"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#后端启动"}},[s._v("#")]),s._v(" 后端启动")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# 拷贝redis解压源码目录中的redis.conf文件到安装目录下的bin目录中\n[root@host102 bin]# cp /mydir/redis-3.2.9/redis.conf ./\n[root@host102 bin]# ll\ntotal 15112\n-rw-r--r--. 1 root root      76 Oct 29 22:53 dump.rdb\n-rwxr-xr-x. 1 root root 2432872 Oct 29 22:40 redis-benchmark\n-rwxr-xr-x. 1 root root   24992 Oct 29 22:40 redis-check-aof\n-rwxr-xr-x. 1 root root 5181776 Oct 29 22:40 redis-check-rdb\n-rwxr-xr-x. 1 root root 2585856 Oct 29 22:40 redis-cli\n-rw-r--r--. 1 root root   46695 Oct 29 23:10 redis.conf\nlrwxrwxrwx. 1 root root      12 Oct 29 22:40 redis-sentinel -> redis-server\n-rwxr-xr-x. 1 root root 5181776 Oct 29 22:40 redis-server\n\n\n\n# 修改redis.conf\n# 修改daemonize的值为yes\n# 修改bind 127.0.0.1 的ip地址为本机真实ip:我这台机ip:192.168.163.102\n[root@host102 bin]# vi redis.conf \n\n------------------------------------------------------------------------\n...\n# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES\n# JUST COMMENT THE FOLLOWING LINE.\n# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nbind 192.168.163.102\n...\n# By default Redis does not run as a daemon. Use 'yes' if you need it.\n# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.\ndaemonize yes\n...\n------------------------------------------------------------------------\n\n\n# 启动命令\n[root@host102 bin]# ./redis-server redis.conf\n# 查看redis服务端进程\n[root@host102 bin]# ps -ef|grep redis\nroot       5124      1  0 23:20 ?        00:00:00 ./redis-server 192.168.163.102:6379\nroot       5128   1922  0 23:21 pts/0    00:00:00 grep --color=auto redis\n\n# 杀进程号关闭\n[root@host102 bin]# ps -ef|grep redis\nroot       5124      1  0 23:20 ?        00:00:00 ./redis-server 192.168.163.102:6379\nroot       5138   1922  0 23:34 pts/0    00:00:00 grep --color=auto redis\n[root@host102 bin]# kill 5124\n[root@host102 bin]# ps -ef|grep redis\nroot       5140   1922  0 23:35 pts/0    00:00:00 grep --color=auto redis\n\n\n# 正常关闭redis\n[root@host102 bin]# ./redis-cli shutdown\n\n# 进入redis命令客户端\n[root@host102 bin]# ./redis-cli -h 192.168.163.102 -p 6379\n# 选择库0\n192.168.163.102:6379> select 0\nOK\n192.168.163.102:6379> set key1 val1\nOK\n192.168.163.102:6379> get key1\n\"val1\"\n# 其他操作指令，请自行测试\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br"),r("span",{staticClass:"line-number"},[s._v("28")]),r("br"),r("span",{staticClass:"line-number"},[s._v("29")]),r("br"),r("span",{staticClass:"line-number"},[s._v("30")]),r("br"),r("span",{staticClass:"line-number"},[s._v("31")]),r("br"),r("span",{staticClass:"line-number"},[s._v("32")]),r("br"),r("span",{staticClass:"line-number"},[s._v("33")]),r("br"),r("span",{staticClass:"line-number"},[s._v("34")]),r("br"),r("span",{staticClass:"line-number"},[s._v("35")]),r("br"),r("span",{staticClass:"line-number"},[s._v("36")]),r("br"),r("span",{staticClass:"line-number"},[s._v("37")]),r("br"),r("span",{staticClass:"line-number"},[s._v("38")]),r("br"),r("span",{staticClass:"line-number"},[s._v("39")]),r("br"),r("span",{staticClass:"line-number"},[s._v("40")]),r("br"),r("span",{staticClass:"line-number"},[s._v("41")]),r("br"),r("span",{staticClass:"line-number"},[s._v("42")]),r("br"),r("span",{staticClass:"line-number"},[s._v("43")]),r("br"),r("span",{staticClass:"line-number"},[s._v("44")]),r("br"),r("span",{staticClass:"line-number"},[s._v("45")]),r("br"),r("span",{staticClass:"line-number"},[s._v("46")]),r("br"),r("span",{staticClass:"line-number"},[s._v("47")]),r("br"),r("span",{staticClass:"line-number"},[s._v("48")]),r("br"),r("span",{staticClass:"line-number"},[s._v("49")]),r("br"),r("span",{staticClass:"line-number"},[s._v("50")]),r("br"),r("span",{staticClass:"line-number"},[s._v("51")]),r("br"),r("span",{staticClass:"line-number"},[s._v("52")]),r("br"),r("span",{staticClass:"line-number"},[s._v("53")]),r("br"),r("span",{staticClass:"line-number"},[s._v("54")]),r("br"),r("span",{staticClass:"line-number"},[s._v("55")]),r("br"),r("span",{staticClass:"line-number"},[s._v("56")]),r("br"),r("span",{staticClass:"line-number"},[s._v("57")]),r("br"),r("span",{staticClass:"line-number"},[s._v("58")]),r("br"),r("span",{staticClass:"line-number"},[s._v("59")]),r("br"),r("span",{staticClass:"line-number"},[s._v("60")]),r("br"),r("span",{staticClass:"line-number"},[s._v("61")]),r("br"),r("span",{staticClass:"line-number"},[s._v("62")]),r("br"),r("span",{staticClass:"line-number"},[s._v("63")]),r("br")])]),r("h3",{attrs:{id:"远程客户端连接"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#远程客户端连接"}},[s._v("#")]),s._v(" 远程客户端连接")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# 修改redis.conf文件\n# 注释掉bind 192.168.163.102\n# 将protect-mode的值设置为 no\n# 设置密码admin321\n------------------------------------------------------------------------\n#bind 192.168.163.102\t\nprotected-mode no\nrequirepass admin321\n------------------------------------------------------------------------\n\n# 重新启动redis服务\n# 暴露6379端口给外部\n[root@host102 bin]# firewall-cmd --zone=public --add-port=6379/tcp --permanent\nsuccess\n[root@host102 bin]# firewall-cmd --reload \nsuccess\n[root@host102 bin]# firewall-cmd --list-ports\n3306/tcp 6379/tcp\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br")])]),r("p",[s._v("使用可视化客户端RedisDesktopManager登录测试：\n"),r("img",{attrs:{src:"/images/redis/redis1.png",alt:""}}),r("br")]),s._v(" "),r("h3",{attrs:{id:"完毕"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#完毕"}},[s._v("#")]),s._v(" 完毕")]),s._v(" "),r("p",[s._v("其他命令，请自行测试。"),r("br"),s._v("\n后续将测试redis的主从复制，持久化，哨兵模式和集群 。")])])}),[],!1,null,null,null);n.default=e.exports}}]);