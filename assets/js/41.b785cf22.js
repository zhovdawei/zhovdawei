(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{396:function(s,a,r){"use strict";r.r(a);var t=r(42),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"搭建lnmp网站平台"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#搭建lnmp网站平台"}},[s._v("#")]),s._v(" 搭建LNMP网站平台")]),s._v(" "),r("hr"),s._v(" "),r("h2",{attrs:{id:"创建步骤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建步骤"}},[s._v("#")]),s._v(" 创建步骤")]),s._v(" "),r("h3",{attrs:{id:"自定义网络"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自定义网络"}},[s._v("#")]),s._v(" 自定义网络")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# docker network create lnmp\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("h3",{attrs:{id:"创建mysql数据库容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建mysql数据库容器"}},[s._v("#")]),s._v(" 创建Mysql数据库容器")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("docker run -itd \\\n--name lnmp_mysql \\\n--net lnmp \\\n-p 3306:3306 \\\n--mount src=mysql-vol,dst=/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\nmysql:5.7 --character-set-server=utf8\n# 注意：如果当前机已经启动mysql,请先关闭，否则会报3306端口占用\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br")])]),r("h3",{attrs:{id:"创建所需数据库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建所需数据库"}},[s._v("#")]),s._v(" 创建所需数据库")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v('docker exec lnmp_mysql sh \\\n-c \'exec mysql -uroot -p"$MYSQL_ROOT_PASSWORD" -e"create database wp"\' \n\n')])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("h3",{attrs:{id:"创建php环境容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建php环境容器"}},[s._v("#")]),s._v(" 创建PHP环境容器")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("docker run -itd \\\n--name lnmp_web \\\n--net lnmp \\\n-p 88:80 \\\n--mount type=bind,src=/app/wwwroot,dst=/var/www/html richarvey/nginx-php-fpm\n# 注意：这里用到绑定挂载，先确保/app/wwwroot目录存在\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br")])]),r("h3",{attrs:{id:"以workpress博客为例测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#以workpress博客为例测试"}},[s._v("#")]),s._v(" 以workpress博客为例测试")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("wget https://cn.wordpress.org/wordpress-4.7.4-zh_CN.tar.gz\ntar zxf wordpress-4.7.4-zh_CN.tar.gz -C /app/wwwroot\n\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("hr"),s._v(" "),r("h2",{attrs:{id:"测试一波"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试一波"}},[s._v("#")]),s._v(" 测试一波")]),s._v(" "),r("h3",{attrs:{id:"访问博客"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#访问博客"}},[s._v("#")]),s._v(" 访问博客")]),s._v(" "),r("p",[s._v("访问http://192.168.163.106:88/wordpress\n"),r("img",{attrs:{src:"/images/docker/docker21.png",alt:""}}),s._v(" "),r("br")]),s._v(" "),r("h3",{attrs:{id:"输入如下信息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#输入如下信息"}},[s._v("#")]),s._v(" 输入如下信息")]),s._v(" "),r("p",[r("img",{attrs:{src:"/images/docker/docker22.png",alt:""}}),s._v(" "),r("br")]),s._v(" "),r("h3",{attrs:{id:"按照页面要求创建配置文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#按照页面要求创建配置文件"}},[s._v("#")]),s._v(" 按照页面要求创建配置文件")]),s._v(" "),r("p",[r("img",{attrs:{src:"/images/docker/docker23.png",alt:""}}),s._v(" "),r("br")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("# vi /app/wwwroot/wordpress/wp-config.php\n# 把页面中的信息复制到这个文件中，保存关闭\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br")])]),r("h3",{attrs:{id:"设置站点信息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#设置站点信息"}},[s._v("#")]),s._v(" 设置站点信息")]),s._v(" "),r("p",[r("img",{attrs:{src:"/images/docker/docker24.png",alt:""}}),s._v(" "),r("br")]),s._v(" "),r("h3",{attrs:{id:"博客站点完成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#博客站点完成"}},[s._v("#")]),s._v(" 博客站点完成")]),s._v(" "),r("p",[s._v("访问http://192.168.163.106:88/wordpress/wp-login.php "),r("br"),s._v("\n输入前面设置的账号/密码，然后看到如下页面。 "),r("br"),s._v(" "),r("img",{attrs:{src:"/images/docker/docker25.png",alt:""}}),s._v(" "),r("br")])])}),[],!1,null,null,null);a.default=e.exports}}]);