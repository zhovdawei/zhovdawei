<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java反射知识 | 莫问今朝</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/images/index.jpg">
    <link rel="manifest" href="/images/index.jpg">
    <link rel="apple-touch-icon" href="/images/index.jpg">
    <meta name="description" content="有道无术，术尚可求；有术无道，止于术。">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="expires" cotent="0">
    <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.48c4d218.js" as="script"><link rel="preload" href="/assets/js/2.0662490d.js" as="script"><link rel="preload" href="/assets/js/63.28994cf0.js" as="script"><link rel="prefetch" href="/assets/js/10.cf2cd822.js"><link rel="prefetch" href="/assets/js/100.ac615c1f.js"><link rel="prefetch" href="/assets/js/101.64dd1084.js"><link rel="prefetch" href="/assets/js/102.d2130633.js"><link rel="prefetch" href="/assets/js/103.279af191.js"><link rel="prefetch" href="/assets/js/104.7dabf384.js"><link rel="prefetch" href="/assets/js/105.7463f0f0.js"><link rel="prefetch" href="/assets/js/106.7f31ad7c.js"><link rel="prefetch" href="/assets/js/107.116435f7.js"><link rel="prefetch" href="/assets/js/108.027815b7.js"><link rel="prefetch" href="/assets/js/109.960cdbf9.js"><link rel="prefetch" href="/assets/js/11.76086253.js"><link rel="prefetch" href="/assets/js/110.02ec919a.js"><link rel="prefetch" href="/assets/js/111.847f8867.js"><link rel="prefetch" href="/assets/js/112.040aac12.js"><link rel="prefetch" href="/assets/js/113.705f2306.js"><link rel="prefetch" href="/assets/js/114.69874db3.js"><link rel="prefetch" href="/assets/js/115.f4d773d2.js"><link rel="prefetch" href="/assets/js/116.686258af.js"><link rel="prefetch" href="/assets/js/117.14312915.js"><link rel="prefetch" href="/assets/js/118.f98ddc13.js"><link rel="prefetch" href="/assets/js/119.d555a25e.js"><link rel="prefetch" href="/assets/js/12.0cc62a6a.js"><link rel="prefetch" href="/assets/js/120.e9f49185.js"><link rel="prefetch" href="/assets/js/121.0858f159.js"><link rel="prefetch" href="/assets/js/122.3b3953e8.js"><link rel="prefetch" href="/assets/js/123.473fe59c.js"><link rel="prefetch" href="/assets/js/124.959f3b8f.js"><link rel="prefetch" href="/assets/js/125.13453e2e.js"><link rel="prefetch" href="/assets/js/126.4f01d4bc.js"><link rel="prefetch" href="/assets/js/127.2c8f7195.js"><link rel="prefetch" href="/assets/js/128.3b103a8f.js"><link rel="prefetch" href="/assets/js/129.56040e37.js"><link rel="prefetch" href="/assets/js/13.d9b92926.js"><link rel="prefetch" href="/assets/js/130.bd773d45.js"><link rel="prefetch" href="/assets/js/131.3d96003b.js"><link rel="prefetch" href="/assets/js/132.79912bd9.js"><link rel="prefetch" href="/assets/js/133.b58f064a.js"><link rel="prefetch" href="/assets/js/134.cc7e9d95.js"><link rel="prefetch" href="/assets/js/135.b64b266e.js"><link rel="prefetch" href="/assets/js/14.9ec827b9.js"><link rel="prefetch" href="/assets/js/15.498937ef.js"><link rel="prefetch" href="/assets/js/16.4ad89f29.js"><link rel="prefetch" href="/assets/js/17.89a92049.js"><link rel="prefetch" href="/assets/js/18.e5c7b02d.js"><link rel="prefetch" href="/assets/js/19.76bf5702.js"><link rel="prefetch" href="/assets/js/20.2c9f96db.js"><link rel="prefetch" href="/assets/js/21.00dfd8c2.js"><link rel="prefetch" href="/assets/js/22.8d4be0a7.js"><link rel="prefetch" href="/assets/js/23.199c8947.js"><link rel="prefetch" href="/assets/js/24.85ed7517.js"><link rel="prefetch" href="/assets/js/25.26441413.js"><link rel="prefetch" href="/assets/js/26.dd979442.js"><link rel="prefetch" href="/assets/js/27.ba5cefbf.js"><link rel="prefetch" href="/assets/js/28.82cb4b25.js"><link rel="prefetch" href="/assets/js/29.2b015a7e.js"><link rel="prefetch" href="/assets/js/3.0ace9d76.js"><link rel="prefetch" href="/assets/js/30.33f7fc27.js"><link rel="prefetch" href="/assets/js/31.88eea1ba.js"><link rel="prefetch" href="/assets/js/32.90279369.js"><link rel="prefetch" href="/assets/js/33.4fed115b.js"><link rel="prefetch" href="/assets/js/34.7c9bbf5f.js"><link rel="prefetch" href="/assets/js/35.245b955b.js"><link rel="prefetch" href="/assets/js/36.0e4a166e.js"><link rel="prefetch" href="/assets/js/37.3c70e4e8.js"><link rel="prefetch" href="/assets/js/38.ec0c3132.js"><link rel="prefetch" href="/assets/js/39.5f7670e7.js"><link rel="prefetch" href="/assets/js/4.d9efc253.js"><link rel="prefetch" href="/assets/js/40.58c8361f.js"><link rel="prefetch" href="/assets/js/41.b785cf22.js"><link rel="prefetch" href="/assets/js/42.57d70211.js"><link rel="prefetch" href="/assets/js/43.ed792435.js"><link rel="prefetch" href="/assets/js/44.5479864b.js"><link rel="prefetch" href="/assets/js/45.cb929f9a.js"><link rel="prefetch" href="/assets/js/46.2c159f35.js"><link rel="prefetch" href="/assets/js/47.464715f6.js"><link rel="prefetch" href="/assets/js/48.75e3115c.js"><link rel="prefetch" href="/assets/js/49.64a7d412.js"><link rel="prefetch" href="/assets/js/5.71c0c7dd.js"><link rel="prefetch" href="/assets/js/50.798deef8.js"><link rel="prefetch" href="/assets/js/51.8962cc70.js"><link rel="prefetch" href="/assets/js/52.34ddf52c.js"><link rel="prefetch" href="/assets/js/53.bf02df08.js"><link rel="prefetch" href="/assets/js/54.cac8aec6.js"><link rel="prefetch" href="/assets/js/55.369ac53d.js"><link rel="prefetch" href="/assets/js/56.da02b3bf.js"><link rel="prefetch" href="/assets/js/57.4e4f5f1a.js"><link rel="prefetch" href="/assets/js/58.645f15e2.js"><link rel="prefetch" href="/assets/js/59.8bdef6ee.js"><link rel="prefetch" href="/assets/js/6.c9f44ce5.js"><link rel="prefetch" href="/assets/js/60.b438bfeb.js"><link rel="prefetch" href="/assets/js/61.4a282871.js"><link rel="prefetch" href="/assets/js/62.043db6d0.js"><link rel="prefetch" href="/assets/js/64.096997b7.js"><link rel="prefetch" href="/assets/js/65.b2ad35ca.js"><link rel="prefetch" href="/assets/js/66.58ce4a03.js"><link rel="prefetch" href="/assets/js/67.c840a4ee.js"><link rel="prefetch" href="/assets/js/68.30b94cbb.js"><link rel="prefetch" href="/assets/js/69.468f4fcf.js"><link rel="prefetch" href="/assets/js/7.7949bb19.js"><link rel="prefetch" href="/assets/js/70.2cad9587.js"><link rel="prefetch" href="/assets/js/71.33d17aa9.js"><link rel="prefetch" href="/assets/js/72.ec045340.js"><link rel="prefetch" href="/assets/js/73.446a2056.js"><link rel="prefetch" href="/assets/js/74.d2c034b8.js"><link rel="prefetch" href="/assets/js/75.32f50d84.js"><link rel="prefetch" href="/assets/js/76.21dd22e7.js"><link rel="prefetch" href="/assets/js/77.7e76c713.js"><link rel="prefetch" href="/assets/js/78.fe5880c6.js"><link rel="prefetch" href="/assets/js/79.9ccec491.js"><link rel="prefetch" href="/assets/js/8.68f30423.js"><link rel="prefetch" href="/assets/js/80.edd6d109.js"><link rel="prefetch" href="/assets/js/81.97e57b40.js"><link rel="prefetch" href="/assets/js/82.6162a617.js"><link rel="prefetch" href="/assets/js/83.bfd482f8.js"><link rel="prefetch" href="/assets/js/84.84122ab5.js"><link rel="prefetch" href="/assets/js/85.2467fb7f.js"><link rel="prefetch" href="/assets/js/86.f8f74288.js"><link rel="prefetch" href="/assets/js/87.f619cbb1.js"><link rel="prefetch" href="/assets/js/88.8aafe5a0.js"><link rel="prefetch" href="/assets/js/89.67cd2762.js"><link rel="prefetch" href="/assets/js/9.56fc1daa.js"><link rel="prefetch" href="/assets/js/90.7801dfa2.js"><link rel="prefetch" href="/assets/js/91.bc03075e.js"><link rel="prefetch" href="/assets/js/92.cd7f11c7.js"><link rel="prefetch" href="/assets/js/93.27188503.js"><link rel="prefetch" href="/assets/js/94.0c4b4391.js"><link rel="prefetch" href="/assets/js/95.cd4d517b.js"><link rel="prefetch" href="/assets/js/96.725d56bd.js"><link rel="prefetch" href="/assets/js/97.01d10b42.js"><link rel="prefetch" href="/assets/js/98.3595be8f.js"><link rel="prefetch" href="/assets/js/99.42dfe524.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">莫问今朝</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术板块" class="dropdown-title"><span class="title">技术板块</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术板块" class="mobile-dropdown-title"><span class="title">技术板块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding/database/说明.html" class="nav-link">
  数据存储
</a></li><li class="dropdown-item"><!----> <a href="/coding/mq/说明.html" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/coding/devops/说明.html" class="nav-link">
  Devops
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="在线文档" class="dropdown-title"><span class="title">在线文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="在线文档" class="mobile-dropdown-title"><span class="title">在线文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.liantu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Java文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.matools.com/api/java8" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDK8在线api
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Spring文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/reference/html/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringBoot
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="在线工具" class="dropdown-title"><span class="title">在线工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="在线工具" class="mobile-dropdown-title"><span class="title">在线工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具集合
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.uupoop.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线PhotoShop
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github传送门
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术板块" class="dropdown-title"><span class="title">技术板块</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术板块" class="mobile-dropdown-title"><span class="title">技术板块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding/database/说明.html" class="nav-link">
  数据存储
</a></li><li class="dropdown-item"><!----> <a href="/coding/mq/说明.html" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/coding/devops/说明.html" class="nav-link">
  Devops
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="在线文档" class="dropdown-title"><span class="title">在线文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="在线文档" class="mobile-dropdown-title"><span class="title">在线文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.liantu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Java文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.matools.com/api/java8" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDK8在线api
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Spring文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/reference/html/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringBoot
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="在线工具" class="dropdown-title"><span class="title">在线工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="在线工具" class="mobile-dropdown-title"><span class="title">在线工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具集合
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.uupoop.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线PhotoShop
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github传送门
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/coding/interview/面试.html" class="sidebar-link">面试小抄</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试知识点</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/coding/interview/Java集合体系.html" class="sidebar-link">Java集合体系</a></li><li><a href="/coding/interview/Java线程体系.html" class="sidebar-link">Java线程体系</a></li><li><a href="/coding/interview/Java流体系.html" class="sidebar-link">Java流体系</a></li><li><a href="/coding/interview/Java网络开发.html" class="sidebar-link">Java网络开发</a></li><li><a href="/coding/interview/Java反射知识.html" class="active sidebar-link">Java反射知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#java反射机制概述" class="sidebar-link">Java反射机制概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#java-reflection" class="sidebar-link">Java Reflection</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#动态与静态" class="sidebar-link">动态与静态</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#java反射机制研究及应用" class="sidebar-link">Java反射机制研究及应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#理解class类并获取class的实例" class="sidebar-link">理解Class类并获取Class的实例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#class类" class="sidebar-link">Class类</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#class类常用方法" class="sidebar-link">Class类常用方法</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#反射小例子" class="sidebar-link">反射小例子</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#获取class类的实例" class="sidebar-link">获取Class类的实例</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#哪些类型可以有class对象" class="sidebar-link">哪些类型可以有Class对象？</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#类的加载与classloader的理解" class="sidebar-link">类的加载与ClassLoader的理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#了解-类的加载过程" class="sidebar-link">了解：类的加载过程</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#什么时候会发生类初始化" class="sidebar-link">什么时候会发生类初始化</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#类加载的作用" class="sidebar-link">类加载的作用</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#了解-classloader" class="sidebar-link">了解：ClassLoader</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#创建运行时类的对象" class="sidebar-link">创建运行时类的对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#有了class对象后-能做什么" class="sidebar-link">有了Class对象后，能做什么？</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#获取运行时类的完整结构" class="sidebar-link">获取运行时类的完整结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#通过反射获取运行时类的完整结构" class="sidebar-link">通过反射获取运行时类的完整结构</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#调用运行时类的指定结构" class="sidebar-link">调用运行时类的指定结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#调用指定方法" class="sidebar-link">调用指定方法</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#调用指定属性" class="sidebar-link">调用指定属性</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#关于setaccessible方法的使用" class="sidebar-link">关于setAccessible方法的使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#反射的应用-动态代理" class="sidebar-link">反射的应用：动态代理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#java动态代理相关api" class="sidebar-link">Java动态代理相关API</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#动态代理步骤" class="sidebar-link">动态代理步骤</a></li><li class="sidebar-sub-header"><a href="/coding/interview/Java反射知识.html#动态代理与aop" class="sidebar-link">动态代理与AOP</a></li></ul></li></ul></li><li><a href="/coding/interview/Java虚拟机知识.html" class="sidebar-link">Java虚拟机知识</a></li><li><a href="/coding/interview/spring-bean.html" class="sidebar-link">spring-bean</a></li><li><a href="/coding/interview/spring-mvc.html" class="sidebar-link">spring-mvc</a></li><li><a href="/coding/interview/spring-boot.html" class="sidebar-link">spring-boot</a></li><li><a href="/coding/interview/mysql优化.html" class="sidebar-link">mysql优化</a></li><li><a href="/coding/interview/redis使用.html" class="sidebar-link">redis使用</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java反射知识"><a href="#java反射知识" class="header-anchor">#</a> Java反射知识</h1> <hr> <h2 id="java反射机制概述"><a href="#java反射机制概述" class="header-anchor">#</a> Java反射机制概述</h2> <h3 id="java-reflection"><a href="#java-reflection" class="header-anchor">#</a> Java Reflection</h3> <ul><li>Reflection（反射）是被视为动态语言的关键，反射机制允许程序在执行期
借助于Reflection API取得任何类的内部信息，并能直接操作任意对象的内
部属性及方法。</li> <li>加载完类之后， 在堆内存的方法区中就产生了一个Class类型的对象（一个
类只有一个Class对象） ， 这个对象就包含了完整的类的结构信息。 我们可
以通过这个对象看到类的结构。 这个对象就像一面镜子， 透过这个镜子看
到类的结构， 所以， 我们形象的称之为： 反射。
<img src="/images/interview/iw-13.png" alt=""><br></li></ul> <h3 id="动态与静态"><a href="#动态与静态" class="header-anchor">#</a> 动态与静态</h3> <ul><li><strong>动态语言</strong><br>
是一类在运行时可以改变其结构的语言：例如新的函数、对象、甚至代码可以
被引进，已有的函数可以被删除或是其他结构上的变化。通俗点说就是在运
行时代码可以根据某些条件改变自身结构。
主要动态语言： Object-C、 C#、 JavaScript、 PHP、 Python、 Erlang。</li> <li><strong>静态语言</strong><br>
与动态语言相对应的， 运行时结构不可变的语言就是静态语言。如Java、 C、
C++。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Java不是动态语言， 但Java可以称之为“准动态语言” 。 即Java有一定的动
态性， 我们可以利用反射机制、 字节码操作获得类似动态语言的特性。
Java的动态性让编程的时候更加灵活！</p></div> <h3 id="java反射机制研究及应用"><a href="#java反射机制研究及应用" class="header-anchor">#</a> Java反射机制研究及应用</h3> <ul><li>Java反射机制提供的功能
<ul><li>在运行时判断任意一个对象所属的类</li> <li>在运行时构造任意一个类的对象</li> <li>在运行时判断任意一个类所具有的成员变量和方法</li> <li>在运行时获取泛型信息</li> <li>在运行时调用任意一个对象的成员变量和方法</li> <li>在运行时处理注解</li> <li>生成动态代理</li></ul></li> <li>反射相关的主要API
<ul><li><strong>java.lang.Class</strong>:代表一个类</li> <li><strong>java.lang.reflect.Method</strong>:代表类的方法</li> <li><strong>java.lang.reflect.Field</strong>:代表类的成员变量</li> <li><strong>java.lang.reflect.Constructor</strong>:代表类的构造器</li></ul></li></ul> <h2 id="理解class类并获取class的实例"><a href="#理解class类并获取class的实例" class="header-anchor">#</a> 理解Class类并获取Class的实例</h2> <h3 id="class类"><a href="#class类" class="header-anchor">#</a> Class类</h3> <p>在Object类中定义了以下的方法，此方法
将被所有子类继承：</p> <ul><li><strong>public final Class getClass</strong>()<br>
以上的方法返回值的类型是一个Class类，
此类是Java反射的源头，实际上所谓反射
从程序的运行结果来看也很好理解，即：
可以通过对象反射求出类的名称。</li> <li>对象照镜子后可以得到的信息：某个类的属性、方法和构造器、某个类到底实现了哪些接
口。对于每个类而言， JRE 都为其保留一个不变的 Class 类型的对象。一个 Class 对象包含
了特定某个结构(class/interface/enum/annotation/primitive type/void/[])的有关信息。
<ul><li>Class本身也是一个类</li> <li>Class 对象只能由系统建立对象</li> <li>一个加载的类在 JVM 中只会有一个Class实例</li> <li>一个Class对象对应的是一个加载到JVM中的一个.class文件</li> <li>每个类的实例都会记得自己是由哪个 Class 实例所生成</li> <li>通过Class可以完整地得到一个类中的所有被加载的结构</li> <li>Class类是Reflection的根源，针对任何你想动态加载、运行的类，唯有先获得相应的
Class对象</li></ul></li></ul> <h3 id="class类常用方法"><a href="#class类常用方法" class="header-anchor">#</a> Class类常用方法</h3> <ul><li><strong>static Class forName</strong>(String name)
<br>返回指定类名 name 的 Class 对象</li> <li><strong>Object newInstance</strong>()
<br>调用缺省构造函数，返回该Class对象的一个实例</li> <li><strong>getName</strong>()<br>返回此Class对象所表示的实体（类、接口、数组类、基本类型或void）名称</li> <li><strong>Class getSuperClass</strong>()<br>返回当前Class对象的父类的Class对象</li> <li><strong>Class [] getInterfaces</strong>()<br>获取当前Class对象的接口</li> <li><strong>ClassLoader getClassLoader</strong>()<br>返回该类的类加载器</li> <li><strong>Class getSuperclass</strong>()<br>返回表示此Class所表示的实体的超类的Class</li> <li><strong>Constructor[] getConstructors</strong>()<br>返回一个包含某些Constructor对象的数组</li> <li><strong>Field[] getDeclaredFields</strong>()<br>返回Field对象的一个数组</li> <li><strong>Method getMethod</strong>(String name,Class … paramTypes)<br>返回一个Method对象，此对象的形参类型为paramType</li></ul> <h3 id="反射小例子"><a href="#反射小例子" class="header-anchor">#</a> 反射小例子</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>String str = &quot;reflect.myobj.Person&quot;;
Class clazz = Class.forName(str);
Object obj = clazz.newInstance();
Field field = clazz.getDeclaredField(&quot;name&quot;);
field.setAccessible(true);
field.set(obj, &quot;David&quot;);
Object name = field.get(obj);
System.out.println(name);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>要获取私有属性和私有方法，需要使用Class.getDeclaredFields()和Class.getDeclaredMethods()</li> <li>要对私有属性赋值，需要先调用field.setAccessible(true); 关闭安全检查，才能赋值。</li></ul></div> <h3 id="获取class类的实例"><a href="#获取class类的实例" class="header-anchor">#</a> 获取Class类的实例</h3> <ul><li><ol><li>前提： 若已知具体的类，通过类的class属性获取， 该方法最为安全可靠，
程序性能最高<br>
实例： Class clazz = String.class;</li></ol></li> <li><ol start="2"><li>前提： 已知某个类的实例，调用该实例的getClass()方法获取Class对象
实例： Class clazz = “www.atguigu.com”.getClass();</li></ol></li> <li><ol start="3"><li>前提： 已知一个类的全类名，且该类在类路径下， 可通过Class类的静态方
法forName()获取，可能抛出ClassNotFoundException<br>
实例： Class clazz = Class.forName(“java.lang.String”);</li></ol></li> <li><ol start="4"><li>其他方式(不做要求)<br>
ClassLoader cl = this.getClass().getClassLoader();
Class clazz4 = cl.loadClass(“类的全类名”);</li></ol></li></ul> <h3 id="哪些类型可以有class对象"><a href="#哪些类型可以有class对象" class="header-anchor">#</a> 哪些类型可以有Class对象？</h3> <ul><li><ol><li>class：
外部类， 成员(成员内部类， 静态内部类)， 局部内部类， 匿名内部类</li></ol></li> <li><ol start="2"><li>interface： 接口</li></ol></li> <li><ol start="3"><li>[]：数组</li></ol></li> <li><ol start="4"><li>enum：枚举</li></ol></li> <li><ol start="5"><li>annotation：注解@interface</li></ol></li> <li><ol start="6"><li>primitive type：基本数据类型</li></ol></li> <li><ol start="7"><li>void</li></ol></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Class c1 = Object.class;
Class c2 = Comparable.class;
Class c3 = String[].class;
Class c4 = int[][].class;
Class c5 = ElementType.class;
Class c6 = Override.class;
Class c7 = int.class;
Class c8 = void.class;
Class c9 = Class.class;
int[] a = new int[10];
int[] b = new int[100];
Class c10 = a.getClass();
Class c11 = b.getClass();
// 只要元素类型与维度一样，就是同一个Class
System.out.println(c10 == c11);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="类的加载与classloader的理解"><a href="#类的加载与classloader的理解" class="header-anchor">#</a> 类的加载与ClassLoader的理解</h2> <h3 id="了解-类的加载过程"><a href="#了解-类的加载过程" class="header-anchor">#</a> 了解：类的加载过程</h3> <p>当程序主动使用某个类时，如果该类还未被加载到内存中，则系统会通过
如下三个步骤来对该类进行初始化。
<img src="/images/interview/iw-14.png" alt=""><br></p> <ul><li>加载：将class文件字节码内容加载到内存中，并将这些静态数据转换成方法区的运行时
数据结构，然后生成一个代表这个类的java.lang.Class对象，作为方法区中类数据的访问
入口（即引用地址）。所有需要访问和使用类数据只能通过这个Class对象。这个加载的
过程需要类加载器参与。</li> <li>链接：将Java类的二进制代码合并到JVM的运行状态之中的过程。
<ul><li>验证：确保加载的类信息符合JVM规范，例如：以cafe开头，没有安全方面的问题</li> <li>准备：正式为类变量（static）分配内存并设置类变量默认初始值的阶段，这些内存
都将在方法区中进行分配。</li> <li>解析：虚拟机常量池内的符号引用（常量名）替换为直接引用（地址）的过程。</li></ul></li> <li>初始化：
<ul><li>执行类构造器&lt;clinit&gt;()方法的过程。 类构造器&lt;clinit&gt;()方法是由编译期自动收集类中
所有类变量的赋值动作和静态代码块中的语句合并产生的。 （类构造器是构造类信
息的，不是构造该类对象的构造器） 。</li> <li>当初始化一个类的时候，如果发现其父类还没有进行初始化，则需要先触发其父类
的初始化。</li> <li>虚拟机会保证一个类的&lt;clinit&gt;()方法在多线程环境中被正确加锁和同步。</li></ul></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>class A {
    static {m = 300;}
    static int m = 100;
}

class B {
    static int m = 100;
    static {m = 300;}
}

public class ClassLoaderTest {
    public static void main(String[] args) {
        System.out.println(A.m);
        System.out.println(B.m);
    }
}
//第二步：链接结束后m=0
//第三步：初始化后，m的值由&lt;clinit&gt;()方法执行决定
// 这个A的类构造器&lt;clinit&gt;()方法由类变量的赋值和静态代码块中的语句按照顺序合并
打印： 100
       300
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="什么时候会发生类初始化"><a href="#什么时候会发生类初始化" class="header-anchor">#</a> 什么时候会发生类初始化</h3> <ul><li>类的主动引用（<span style="color:red;">一定会发生类的初始化</span>）
<ul><li>当虚拟机启动， 先初始化main方法所在的类</li> <li>new一个类的对象</li> <li>调用类的静态成员（除了final常量） 和静态方法</li> <li>使用java.lang.reflect包的方法对类进行反射调用</li> <li>当初始化一个类， 如果其父类没有被初始化， 则先会初始化它的父类</li></ul></li> <li>类的被动引用（<span style="color:red;">不会发生类的初始化</span>）
<ul><li>当访问一个静态域时， 只有真正声明这个域的类才会被初始化
<ul><li>当通过子类引用父类的静态变量， 不会导致子类初始化</li></ul></li> <li>通过数组定义类引用， 不会触发此类的初始化</li> <li>引用常量不会触发此类的初始化（常量在链接阶段就存入调用类的常
量池中了）</li></ul></li></ul> <h3 id="类加载的作用"><a href="#类加载的作用" class="header-anchor">#</a> 类加载的作用</h3> <p><img src="/images/interview/iw-15.png" alt=""><br></p> <ul><li>类加载的作用： 将class文件字节码内容加载到内存中， 并将这些静态数据转换成方
法区的运行时数据结构， 然后在堆中生成一个代表这个类的java.lang.Class对象， 作为
方法区中类数据的访问入口。</li> <li>类缓存： 标准的JavaSE类加载器可以按要求查找类， 但一旦某个类被加载到类加载器
中， 它将维持加载（缓存） 一段时间。 不过JVM垃圾回收机制可以回收这些Class对象。</li></ul> <h3 id="了解-classloader"><a href="#了解-classloader" class="header-anchor">#</a> 了解：ClassLoader</h3> <p>类加载器作用是用来把类(class)装载进内存的。 JVM 规范定义了如下类型的
类的加载器。
<img src="/images/interview/iw-16.png" alt=""><br></p> <ul><li>1.获取一个系统类加载器<br>
ClassLoader classloader = ClassLoader.getSystemClassLoader();<br>
System.out.println(classloader);<br></li> <li>2.获取系统类加载器的父类加载器，即扩展类加载器<br>
classloader = classloader.getParent();<br>
System.out.println(classloader);<br></li> <li>3.获取扩展类加载器的父类加载器，即引导类加载器<br>
classloader = classloader.getParent();<br>
System.out.println(classloader);<br></li> <li>4.测试当前类由哪个类加载器进行加载<br>
classloader = Class.forName(&quot;exer2.ClassloaderDemo&quot;).getClassLoader();<br>
System.out.println(classloader);<br></li> <li>5.测试JDK提供的Object类由哪个类加载器加载<br>
classloader = Class.forName(&quot;java.lang.Object&quot;).getClassLoader();<br>
System.out.println(classloader);<br></li> <li>6.关于类加载器的一个主要方法： <br>
getResourceAsStream(String str):获取类路径下的指定文件的输入流<br>
InputStream in = null;<br>
in = this.getClass().getClassLoader().getResourceAsStream(&quot;exer2\test.properties&quot;);<br>
System.out.println(in);<br></li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>如果Class是从Bootstrap ClassPath加载的，即；jdk \ jre \ lib \ rt.jar，将调用BootStrap ClassLoader。</li> <li>如果Class是从扩展Classpath加载的，即；jdk \ jre \ lib \ ext * .jar，将调用Extension ClassLoader。</li> <li>如果Class是从Application ClassPath中加载的，即；根据环境变量中的指定，将调用Application ClassLoader。</li> <li>由于Bootstrap ClassLoader不是用Java实现的，因此它不是用c还是c ++来实现的，因此没有引用，这就是它返回null的原因。
但是扩展和应用程序类Loader是用Java编写的，因此您将获得以下引用：
sun.misc.Launcher$ExtClassLoader@someHexValue和
sun.misc.Launcher$AppClassLoader@someHexValue。</li></ul></div> <h2 id="创建运行时类的对象"><a href="#创建运行时类的对象" class="header-anchor">#</a> 创建运行时类的对象</h2> <h3 id="有了class对象后-能做什么"><a href="#有了class对象后-能做什么" class="header-anchor">#</a> 有了Class对象后，能做什么？</h3> <p>创建类的对象： 调用Class对象的newInstance()方法<br> <strong>要求</strong>：</p> <ul><li>类必须有一个无参数的构造器。</li> <li>类的构造器的访问权限需要足够。<br>
难道没有无参的构造器就不能创建对象了吗？
不是！只要在操作的时候明确的调用类中的构造器， 并将参数传递进去之后，才可以实例化操作。<br></li></ul> <p><strong>步骤如下</strong>：</p> <ul><li>通过Class类的getDeclaredConstructor(Class … parameterTypes)取得本类的指定形参类
型的构造器</li> <li>向构造器的形参中传递一个对象数组进去，里面包含了构造器中所需的各个参数。</li> <li>通过Constructor实例化对象。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>public T newInstance(Object ... initargs)</p></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>public static Person getObj(String name,int age,boolean sex) throws ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {
    String className = &quot;reflect.myobj.Person&quot;;
    Class clazz = Class.forName(className);
    Constructor con = clazz.getConstructor(String.class,Integer.class,Boolean.class);
    Person person = (Person)con.newInstance(name,age,sex);
    return person;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="获取运行时类的完整结构"><a href="#获取运行时类的完整结构" class="header-anchor">#</a> 获取运行时类的完整结构</h2> <h3 id="通过反射获取运行时类的完整结构"><a href="#通过反射获取运行时类的完整结构" class="header-anchor">#</a> 通过反射获取运行时类的完整结构</h3> <ul><li>1.实现的全部接口
<ul><li>public Class&lt;?&gt;[] getInterfaces()<br>
确定此对象所表示的类或接口实现的接口。</li></ul></li> <li>2.所继承的父类
<ul><li>public Class&lt;? Super T&gt; getSuperclass()<br>
返回表示此 Class 所表示的实体（类、接口、基本类型）的父类的Class。</li></ul></li> <li>3.全部的构造器
<ul><li>public Constructor&lt;T&gt;[] getConstructors()<br>
返回此 Class 对象所表示的类的所有public构造方法。</li> <li>public Constructor&lt;T&gt;[] getDeclaredConstructors()<br>
返回此 Class 对象表示的类声明的所有构造方法。</li> <li>Constructor类中：
<ul><li>取得修饰符: public int getModifiers();</li> <li>取得方法名称: public String getName();</li> <li>取得参数的类型： public Class&lt;?&gt;[] getParameterTypes();</li></ul></li></ul></li> <li>4.全部的方法
<ul><li>public Method[] getDeclaredMethods()
返回此Class对象所表示的类或接口的全部方法</li> <li>public Method[] getMethods()
返回此Class对象所表示的类或接口的public的方法</li> <li>Method类中：
<ul><li>public Class&lt;?&gt; getReturnType()取得全部的返回值</li> <li>public Class&lt;?&gt;[] getParameterTypes()取得全部的参数</li> <li>public int getModifiers()取得修饰符</li> <li>public Class&lt;?&gt;[] getExceptionTypes()取得异常信息</li></ul></li></ul></li> <li>5.全部的Field
<ul><li>public Field[] getFields()
返回此Class对象所表示的类或接口的public的Field。</li> <li>public Field[] getDeclaredFields()
返回此Class对象所表示的类或接口的全部Field。</li> <li>Field方法中：
<ul><li>public int getModifiers() 以整数形式返回此Field的修饰符</li> <li>public Class&lt;?&gt; getType() 得到Field的属性类型</li> <li>public String getName() 返回Field的名称。</li></ul></li></ul></li> <li><ol start="6"><li>Annotation相关</li></ol> <ul><li>get Annotation(Class&lt;T&gt; annotationClass)</li> <li>getDeclaredAnnotations()</li></ul></li> <li>7.泛型相关
<ul><li>获取父类泛型类型： Type getGenericSuperclass()</li> <li>泛型类型： ParameterizedType</li> <li>获取实际的泛型类型参数数组： getActualTypeArguments()</li></ul></li> <li>8.类所在的包
<ul><li>Package getPackage()</li></ul></li></ul> <h2 id="调用运行时类的指定结构"><a href="#调用运行时类的指定结构" class="header-anchor">#</a> 调用运行时类的指定结构</h2> <h3 id="调用指定方法"><a href="#调用指定方法" class="header-anchor">#</a> 调用指定方法</h3> <p>通过反射，调用类中的方法，通过Method类完成。步骤：</p> <ul><li>1.通过Class类的getMethod(String name,Class…parameterTypes)方法取得
一个Method对象，并设置此方法操作时所需要的参数类型。</li> <li>2.之后使用Object invoke(Object obj, Object[] args)进行调用，并向方法中
传递要设置的obj对象的参数信息。
<img src="/images/interview/iw-17.png" alt=""><br></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Object invoke(Object obj, Object … args)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>说明：<br></p> <ul><li>1.Object 对应原方法的返回值，若原方法无返回值，此时返回null</li> <li>2.若原方法若为静态方法，此时形参Object obj可为null</li> <li>3.若原方法形参列表为空，则Object[] args为null</li> <li>4.若原方法声明为private,则需要在调用此invoke()方法前，显式调用
方法对象的setAccessible(true)方法，将可访问private的方法。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>public static boolean getMethod(int age,boolean sex) throws ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InstantiationException, InvocationTargetException {
    String className = &quot;reflect.myobj.Person&quot;;
    Class clazz = Class.forName(className);
    Method method = clazz.getDeclaredMethod(&quot;methodFour&quot;, Integer.class, Boolean.class);
    Person person = (Person) clazz.newInstance();
    method.setAccessible(true);
    boolean flag = (Boolean) method.invoke(person,age,sex);
    System.out.println(person);
    return flag;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="调用指定属性"><a href="#调用指定属性" class="header-anchor">#</a> 调用指定属性</h3> <ul><li><p>在反射机制中，可以直接通过Field类操作类中的属性，通过Field类提供的set()和
get()方法就可以完成设置和取得属性内容的操作。</p> <ul><li>public Field getField(String name) 返回此Class对象表示的类或接口的指定的
public的Field。</li> <li>public Field getDeclaredField(String name)返回此Class对象表示的类或接口的
指定的Field。</li></ul></li> <li><p>在Field中：</p> <ul><li>public Object get(Object obj) 取得指定对象obj上此Field的属性内容</li> <li>public void set(Object obj,Object value) 设置指定对象obj上此Field的属性内容</li></ul></li></ul> <h3 id="关于setaccessible方法的使用"><a href="#关于setaccessible方法的使用" class="header-anchor">#</a> 关于setAccessible方法的使用</h3> <ul><li>Method和Field、 Constructor对象都有setAccessible()方法。</li> <li>setAccessible启动和禁用访问安全检查的开关。</li> <li>参数值为true则指示反射的对象在使用时应该取消Java语言访问检查。
<ul><li>提高反射的效率。 如果代码中必须用反射， 而该句代码需要频繁的被
调用， 那么请设置为true。</li> <li>使得原本无法访问的私有成员也可以访问</li></ul></li> <li>参数值为false则指示反射的对象应该实施Java语言访问检查。</li></ul> <h2 id="反射的应用-动态代理"><a href="#反射的应用-动态代理" class="header-anchor">#</a> 反射的应用：动态代理</h2> <ul><li>代理设计模式的原理:<br>
使用一个代理将对象包装起来, 然后用该代理对象取代原始对象。任何对原
始对象的调用都要通过代理。代理对象决定是否以及何时将方法调用转到原
始对象上。</li> <li>之前为大家讲解过代理机制的操作，属于静态代理，特征是代理类和目标
对象的类都是在编译期间确定下来，不利于程序的扩展。同时，每一个代
理类只能为一个接口服务，这样一来程序开发中必然产生过多的代理。 最
好可以通过一个代理类完成全部的代理功能。</li> <li>动态代理是指客户通过代理类来调用其它对象的方法，并且是在程序运行时
根据需要动态创建目标类的代理对象。</li> <li>动态代理使用场合:
<ul><li>调试</li> <li>远程方法调用</li></ul></li> <li>动态代理相比于静态代理的优点：
抽象角色中（接口）声明的所有方法都被转移到调用处理器一个集中的方法中
处理，这样，我们可以更加灵活和统一的处理众多的方法。</li></ul> <h3 id="java动态代理相关api"><a href="#java动态代理相关api" class="header-anchor">#</a> Java动态代理相关API</h3> <ul><li>Proxy ：专门完成代理的操作类，是所有动态代理类的父类。通过此类为一
个或多个接口动态地生成实现类。</li> <li>提供用于创建动态代理类和动态代理对象的静态方法
<ul><li>static Class&lt;?&gt; getProxyClass(ClassLoader loader, Class&lt;?&gt;... interfaces) 创建
一个动态代理类所对应的Class对象</li> <li>static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces,
InvocationHandler h) 直接创建一个动态代理对象
<ul><li>loader : 类加载器</li> <li>interfaces : 得到被代理类实现的全部接口</li> <li>h : 得到InvocationHandler接口的实现类实例</li></ul></li></ul></li></ul> <h3 id="动态代理步骤"><a href="#动态代理步骤" class="header-anchor">#</a> 动态代理步骤</h3> <ul><li>1.创建一个实现接口InvocationHandler的类，它必须实现invoke方
法，以完成代理的具体操作。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>public Object invoke(Object theProxy, Method method, Object[] params)
throws Throwable{
    try{
        Object retval = method.invoke(targetObj, params);
        // Print out the result
        System.out.println(retval);
        return retval;
    }catch (Exception exc){}
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>2.创建被代理的类以及接口
<img src="/images/interview/iw-18.png" alt=""><br></li> <li>3.通过Proxy的静态方法
newProxyInstance(ClassLoader loader, Class[] interfaces, InvocationHandler h) 创建
一个Subject接口代理</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>RealSubject target = new RealSubject();
// Create a proxy to wrap the original implementation
DebugProxy proxy = new DebugProxy(target);
// Get a reference to the proxy through the Subject interface
Subject sub = (Subject) Proxy.newProxyInstance(
Subject.class.getClassLoader(),new Class[] { Subject.class }, proxy);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>4.通过 Subject代理调用RealSubject实现类的方法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>String info = sub.say(“Peter&quot;, 24);
System.out.println(info);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>静态代理和动态代理例子</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>public interface CallService {

    public String call(String msg);

}

public class AppleCall implements CallService {
    @Override
    public String call(String msg) {
        return &quot;apple call =&gt; &quot;+msg;
    }
}

public class ProxyCall implements CallService {

    private CallService callService;

    public ProxyCall(CallService callService) {
        this.callService = callService;
    }

    @Override
    public String call(String msg) {
        System.out.println(&quot;静态代理前...&quot;);
        msg = msg +&quot;[StaticProxy]&quot;;
        String result = callService.call(msg);
        System.out.println(&quot;静态代理后...&quot;);
        return result;
    }
    
}

public class ProxyTest {

    public static CallService createStaticProxy(CallService callService) {
        CallService proxyCall = new ProxyCall(callService);
        return proxyCall;
    }

    private static CallService createDynamicProxy(CallService callService) {
        CallService service = (CallService) Proxy.newProxyInstance(CallService.class.getClassLoader(),
                new Class[]{CallService.class},
                (Object proxy, Method method, Object[] args) -&gt; {
                    System.out.println(&quot;动态代理前...&quot;);
                    String param = (String) args[0] + &quot;[DynamicProxy]&quot;;
                    args[0] = param;
                    Object result = method.invoke(callService, args);
                    System.out.println(&quot;动态代理后...&quot;);
                    return result;
                }
        );
        return service;
    }

    public static void main(String[] args) {
        CallService appleCall = new AppleCall();
        CallService proxy_1 = createStaticProxy(appleCall);
        CallService proxy_2 = createDynamicProxy(appleCall);
        System.out.println(proxy_1.call(&quot;Jack&quot;));
        System.out.println(proxy_2.call(&quot;Rose&quot;));
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h3 id="动态代理与aop"><a href="#动态代理与aop" class="header-anchor">#</a> 动态代理与AOP</h3> <ul><li><p>前面介绍的Proxy和InvocationHandler，很难看出这种动态代理的优势，下
面介绍一种更实用的动态代理机制
<img src="/images/interview/iw-19.png" alt=""><br> <img src="/images/interview/iw-20.png" alt=""><br>
改进后的说明：代码段1、代码段2、代码段3和深色代码段分离开了，但代码段1、 2、 3又和
一个特定的方法A耦合了！最理想的效果是：代码块1、 2、 3既可以执行方法A，又无须在程序
中以硬编码的方式直接调用深色代码的方法</p></li> <li><p>使用Proxy生成一个动态代理时，往往并不会凭空产生一个动态代理，这样没有
太大的意义。通常都是为指定的目标对象生成动态代理</p></li> <li><p>这种动态代理在AOP中被称为AOP代理， AOP代理可代替目标对象， AOP代理
包含了目标对象的全部方法。但AOP代理中的方法与目标对象的方法存在差异：
AOP代理里的方法可以在执行目标方法之前、之后插入一些通用处理
<img src="/images/interview/iw-21.png" alt=""><br></p></li> <li><p>模拟aop代理案例</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>public interface CommonCall extends CallService {

    public String msg(String msg);

}

public class HuaweiCall implements CommonCall {

    @Override
    public String msg(String msg) {
        return &quot;Huawei msg =&gt; &quot;+msg;
    }

    @Override
    public String call(String msg) {
        return &quot;Huawei call =&gt; &quot;+msg;
    }
}

public class AopUtil {

    public void beforeRealMethod(){
        System.out.println(&quot;在被代理方法执行前处理...&quot;);
    }

    public void afterRealMethod(){
        System.out.println(&quot;在被代理方法执行后处理...&quot;);
    }
}

public class MyInvocationHandler implements InvocationHandler {

    private Object target;

    public void setTarget(Object target){
        this.target = target;
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        AopUtil aop = new AopUtil();
        aop.beforeRealMethod();
        args[0] = args[0]+&quot;[AOP]&quot;;
        Object obj = method.invoke(target,args);
        aop.afterRealMethod();
        return obj;
    }
}

public class MyProxyFactory {

    public static Object createProxy(Object target){
        MyInvocationHandler handler = new MyInvocationHandler();
        handler.setTarget(target);
        return Proxy.newProxyInstance(target.getClass().getClassLoader(),
                target.getClass().getInterfaces(),handler);
    }

    public static void main(String[] args) {
        CommonCall call = new HuaweiCall();
        CommonCall proxy = (CommonCall) createProxy(call);
        System.out.println(proxy.call(&quot;Jack&quot;));
        System.out.println(proxy.msg(&quot;Rose&quot;));

    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/15/2020, 10:31:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/coding/interview/Java网络开发.html" class="prev">
        Java网络开发
      </a></span> <span class="next"><a href="/coding/interview/Java虚拟机知识.html">
        Java虚拟机知识
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.48c4d218.js" defer></script><script src="/assets/js/2.0662490d.js" defer></script><script src="/assets/js/63.28994cf0.js" defer></script>
  </body>
</html>
